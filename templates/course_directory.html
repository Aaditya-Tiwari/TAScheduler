<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Course Directory | Scheduler</title>
    <link rel="stylesheet" href="/static/style.css"/>
</head>
<body style="background-color: rgb(217,217,217)">
<a href="home.html">
    <img src="/static/Logo.jpeg" alt="TA Scheduler Logo" style="height: 10vh; width: auto;">
</a>
<a href="profile_page.html" style="margin-left: 95%">Profile</a>
<div class="navbar">
    <a href="admin_home.html" style="padding: 9%">Admin Home</a>
    <a href="user_directory.html" style="padding: 9%">User Directory</a>
    <a class="active" href="course_directory.html" style="padding: 9%">Course Directory</a>
    <a href="/" style="padding: 9%">Log Out</a>
</div>

<div class="container">
    <h2 class="container">Courses:</h2>

    <!-- Filter Toggle -->
    <form method="get" action="course_directory.html" style="margin-bottom: 1vw;">
        <label>
            <input type="checkbox" name="filter" value="assigned" {% if filter_assigned %}checked{% endif %}>
            Show Only Assigned Courses/Labs
        </label>
        <button type="submit">Apply Filter</button>
    </form>
</div>
{##}
{#<!-- Display Courses -->#}
{#{% for course in courses %}#}
{#    <div class="userBox">#}
{#        <p class="p">#}
{#            <strong>{{ course.name }}</strong> <br>#}
{#            <!-- Display Sections -->#}
{#            {% for section in course.sections.all %}#}
{#                <strong>Section: {{ section.name }}</strong> <br>#}
{#                Instructor/TA: <br>#}
{#                {% if section.user %}#}
{#                    {{ section.user.first_name }} {{ section.user.last_name }} ({{ section.user.get_role_display }})#}
{#                    <br>#}
{#                {% else %}#}
{#                    No user assigned.#}
{#                {% endif %}#}
{#                Day(s): {{ section.days|join:", " }} <br>#}
{#                Time: {% if section.time %}{{ section.time|date:"h:i A" }} <br>#}
{#            {% else %}Not specified{% endif %}#}
{#                Location: {% if section.location %}{{ section.location }} <br>#}
{#            {% else %}Not specified{% endif %}#}
{#            {% empty %}#}
{#                No sections available for this course.#}
{#            {% endfor %}#}
{#        </p>#}
{#    </div>#}
{#{% endfor %}#}
<div class="boxContainer">
    {% for course in courses %}
        <div class="whiteBox">
            <p class="p">
                <strong>{{ course.name }}</strong> <br>
                <!-- Display Sections -->
                {% for section in course.sections.all %}
                    <strong>Section: {{ section.name }}</strong> <br>
                    Instructor/TA: <br>
                    {% if section.user %}
                        {{ section.user.first_name }} {{ section.user.last_name }} ({{ section.user.get_role_display }})
                        <br>
                    {% else %}
                        No user assigned.
                    {% endif %}
                    Day(s): {{ section.days|join:", " }} <br>
                    Time: {% if section.time %}{{ section.time|date:"h:i A" }} <br>
                {% else %}Not specified{% endif %}
                    Location: {% if section.location %}{{ section.location }} <br>
                {% else %}Not specified{% endif %}
                {% empty %}
                    No sections available for this course.
                {% endfor %}
            </p>
        </div>
    {% endfor %}
</div>
</body>
</html>
